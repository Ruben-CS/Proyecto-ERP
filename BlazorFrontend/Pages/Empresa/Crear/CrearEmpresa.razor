@using Severity = MudBlazor.Severity
@using ButtonType = MudBlazor.ButtonType
@using BlazorFrontend.Services
@inject HttpClient HttpClient
@inject EmpresaService EmpresaService

<MudDialog >
    <DialogContent>
            <EditForm Model="@EmpresaDto" OnValidSubmit="UpsertEmpresa">
            <DataAnnotationsValidator/>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <MudTextField Required="true"
                                  Label="Nombre"
                                  @bind-Value="@EmpresaDto.Nombre"
                                  For="@(() => EmpresaDto.Nombre)"/>
                </div>
                <div class="col-md-6 mb-4">
                    <MudTextField Required="true" Label="NIT"
                                  @bind-Value="@EmpresaDto.Nit"
                                  For="@(() => EmpresaDto.Nit)"/>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <MudTextField Required="true"
                                  Label="Sigla"
                                  @bind-Value="@EmpresaDto.Sigla"
                                  For="@(() => EmpresaDto.Sigla)"/>
                </div>
                <div class="col-md-6 mb-4">
                    <MudTextField Label="Telefono"
                                  @bind-Value="@EmpresaDto.Telefono"
                                  For="@(() => EmpresaDto.Telefono)"/>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <MudTextField Label="Direccion" @bind-Value="@EmpresaDto.Direccion" For="@(() => EmpresaDto.Direccion)"/>
                </div>
                <div class="col-md-6 md-4">
                    <div class="form-outline">
                        <label>Niveles</label>
                        <InputSelect @bind-Value="EmpresaDto.Niveles" class="form-select" aria-label="Default select example">
                            @foreach (var item in _listaNiveles)
                            {
                                <option value="@item">@item</option>
                            }
                        </InputSelect>
                        <ValidationMessage For="@(() => EmpresaDto.Niveles)"/>
                    </div>
                </div>
            </div>
            <MudTextField Label="Correo" @bind-Value="@EmpresaDto.Correo" For="@(() => EmpresaDto.Correo)"/>
        </EditForm>
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Filled"
                   Color="Color.Dark"
                   OnClick="Cancel">Cancelar</MudButton>
        <MudButton Variant="Variant.Filled" ButtonType="ButtonType.Submit"
                   Color="Color.Success"
                   OnClick="UpsertEmpresa">Crear</MudButton>
    </DialogActions>
</MudDialog>