@using System.Drawing
@using Color = MudBlazor.Color
@using Size = MudBlazor.Size
@inject IDialogService DialogService

<MudPaper Elevation="2" Class="p-3 mt-4 fade-in" Style="border-radius: 15px;">
    <MudTable Hover="true"
              Dense="true"
              RowsPerPage="4"
              Bordered="true"
              Elevation="0"
              Style="border-radius: 15px;"
              Items="DetalleCompra"
              Striped="true">
        <HeaderContent>
            <MudTh>Articulo</MudTh>
            <MudTh>Cantidad</MudTh>
            <MudTh Style="text-align: right">Precio</MudTh>
            <MudTh Style="text-align: right">Subtotal</MudTh>
            <MudTh>Acciones</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd>@GetArticuloName(context.IdArticulo)</MudTd>
            <MudTd>@context.Cantidad</MudTd>
            <MudTd Style="text-align: right">@context.PrecioCompra</MudTd>
            <MudTd Style="text-align: right">@(context.Cantidad * context.PrecioCompra)</MudTd>
            <MudTd>
                <MudTooltip Text="Eliminar">
                <MudIconButton Size="Size.Small"
                               Icon="@Icons.Material.Rounded.Delete"
                               Color="Color.Error"
                               OnClick="() => DeleteEntry(context)"/>
                </MudTooltip>
            </MudTd>
        </RowTemplate>
        <FooterContent>
            <MudTh/>
            <MudTh/>
            <MudTh/>
            <MudTh Style="text-align: right">Total: @Total</MudTh>
        </FooterContent>
    </MudTable>
</MudPaper>