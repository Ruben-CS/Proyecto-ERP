@using ButtonType = MudBlazor.ButtonType
@using global::Services.Periodo
@inject HttpClient HttpClient
@inject ISnackbar Snackbar
@inject PeriodoService PeriodoService

<MudDialog>
    <DialogContent>
        <EditForm Model="@PeriodoDto" OnValidSubmit="@ValidateAndEditPeriodo">
            <DataAnnotationsValidator/>
            <MudTextField @bind-Value="@PeriodoDto.Nombre" Label="Nombre" Required="true" RequiredError="Nombre es requerido">@PeriodoDto.Nombre</MudTextField>
            <MudStack Row="true">
                <MudDatePicker Mask="@(new DateMask("dd/MM/yyyy"))" DateFormat="dd/MM/yyyy" Editable="true" Label="Fecha de inicio" @bind-Date="@PeriodoDto.FechaInicio" Required="true" RequiredError="Fecha inicial requerida"/>
                <MudDatePicker Mask="@(new DateMask("dd/MM/yyyy"))" DateFormat="dd/MM/yyyy" Editable="true" Label="Fecha de cierre" @bind-Date="@PeriodoDto.FechaFin" Required="true" RequiredError="Fecha de cierre requerida"/>
            </MudStack>
        </EditForm>
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Filled" Color="Color.Dark" OnClick="Cancel">Cancel</MudButton>
        <MudButton Variant="Variant.Filled" ButtonType="ButtonType.Submit" Color="Color.Success" OnClick="@ValidateAndEditPeriodo">Editar</MudButton>
    </DialogActions>
</MudDialog>