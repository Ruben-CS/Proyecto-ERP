@inject HttpClient HttpClient

<MudDialog Style="border-radius: 15px">
    <DialogContent>
        <MudGrid Justify="Justify.SpaceBetween">
            <MudItem xs="12" md="6">
                <MudForm @ref="_form" @bind-IsValid="_success">
                    <MudTextField Variant="Variant.Text"
                                  Immediate="true"
                                  Label="Nombre"
                                  bind-Value="@Nombre"
                                  Required="true"
                                  RequiredError="Nombre no puede estar vacio"
                                  Margin="Margin.Dense"
                                  T="string"/>

                    <MudTextField Variant="Variant.Text"
                                  Immediate="true"
                                  bind-Value="@Precio"
                                  Required="true"
                                  RequiredError="Precio no puede estar vacio"
                                  Label="Precio"
                                  Margin="Margin.Dense"
                                  T="string"/>
                    <MudTextField Variant="Variant.Text"
                                  Immediate="true"
                                  bind-Value="@Descripcion"
                                  Required="true"
                                  Margin="Margin.Dense"
                                  RequiredError="La descripcion no puede estar vacio"
                                  Label="Descripcion"
                                  Lines="2"
                                  T="string"/>
                </MudForm>
            </MudItem>
            <MudItem xs="12" md="6">
                <MudSelect T="string"
                           Label="Categorias"
                           MultiSelection="true"
                           @bind-Value="Value"
                           @bind-SelectedValues="NombreCategorias"
                           Margin="Margin.Dense"
                           Dense="true"
                           Variant="Variant.Outlined">
                    @foreach (var categoria in CategoriaDtos)
                    {
                        <MudSelectItem T="string" Value="@categoria.Nombre">@categoria.Nombre</MudSelectItem>
                    }
                </MudSelect>

                <MudChipSet AllClosable="true" OnClose="Closed" Class="mt-2">
                    @foreach (var categoria in NombreCategorias)
                    {
                        <MudChip Text="@categoria"
                                 Variant="Variant.Filled"
                                 Color="Color.Primary"/>
                    }
                </MudChipSet>
            </MudItem>
        </MudGrid>
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Text"
                   StartIcon="@Icons.Material.Filled.Cancel"
                   Color="Color.Dark"
                   OnClick="Cancel"
                   Size="Size.Medium"
                   Class="mb-2">
            Cancelar
        </MudButton>
        <MudButton Variant="Variant.Filled"
                   StartIcon="@Icons.Material.Filled.Add"
                   ButtonType="ButtonType.Submit"
                   Color="Color.Success"
                   OnClick="Crear"
                   Size="Size.Medium"
                   Class="rounded-pill ml-4 mr-3 mb-2">
            Crear
        </MudButton>
    </DialogActions>
</MudDialog>